{"ast":null,"code":"var _env;import{useEffect,useMemo,useState}from\"react\";import{useParams,Link}from\"react-router-dom\";import{Card,CardContent}from\"../components/ui/card\";import{Badge}from\"../components/ui/badge\";import{Button}from\"../components/ui/button\";import{Skeleton}from\"../components/ui/skeleton\";import{Separator}from\"../components/ui/separator\";import{ToggleGroup,ToggleGroupItem}from\"../components/ui/toggle-group\";import{ArrowLeft,ExternalLink,Star,Sparkles}from\"lucide-react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE=((_env=import.meta.env)===null||_env===void 0?void 0:_env.VITE_API_BASE)||window.__API_BASE__||\"http://127.0.0.1:8000\";// Мапинг от cap:* тагове към човешки имена\nconst CAP_DISPLAY_NAMES={\"cap:text-explain\":\"Асистенти и продуктивност\",\"cap:text-edit\":\"Генерация на текст и писане\",\"cap:text-summarize\":\"Резюмиране на текстове\",\"cap:image-generate\":\"Изображения и дизайн\",\"cap:image-edit\":\"Редакция на изображения\",\"cap:video-generate\":\"Видео и 3D\",\"cap:video-edit\":\"Редакция на видео\",\"cap:voice-generate\":\"Аудио и музика\",\"cap:audio-transcribe\":\"Транскрипция на аудио\",\"cap:research-web\":\"Уеб търсене и изследвания\",\"cap:automate-workflow\":\"Автоматизация и агенти\",\"cap:integrations\":\"Интеграции\",\"cap:slide-generate\":\"Презентации и данни\",\"cap:doc-read-pdf\":\"Анализ на документи\"};export default function CategoryView(){const{cap=\"\"}=useParams();const[loading,setLoading]=useState(true);const[tools,setTools]=useState([]);const[filter,setFilter]=useState(null);const[error,setError]=useState(null);// Получаваме човешкото име на категорията\nconst categoryDisplayName=CAP_DISPLAY_NAMES[cap]||cap;useEffect(()=>{let cancelled=false;setLoading(true);setError(null);(async()=>{try{// Правилният API endpoint с cap parameter\nconst url=`${API_BASE}/catalog/tools?cap=${encodeURIComponent(cap||\"\")}&limit=100`;console.log('Fetching tools from:',url);const r=await fetch(url);if(!r.ok){throw new Error(`HTTP ${r.status}: ${r.statusText}`);}const data=await r.json();console.log('API Response:',data);// API shape: { total, items: [...], limit, offset }\nconst arr=((data===null||data===void 0?void 0:data.items)||[]).map(t=>{var _t$description,_t$tags,_t$icon,_t$link,_t$rating;return{name:t.name,description:(_t$description=t.description)!==null&&_t$description!==void 0?_t$description:\"\",tags:(_t$tags=t.tags)!==null&&_t$tags!==void 0?_t$tags:[],icon:(_t$icon=t.icon)!==null&&_t$icon!==void 0?_t$icon:null,// от _tool_icon функцията в catalog_router.py\nlink:(_t$link=t.link)!==null&&_t$link!==void 0?_t$link:null,// от links.website\nrating:(_t$rating=t.rating)!==null&&_t$rating!==void 0?_t$rating:null};});if(!cancelled){setTools(arr);setLoading(false);console.log(`Loaded ${arr.length} tools for category ${cap}`);}}catch(e){console.error(\"CategoryView fetch failed\",e);if(!cancelled){setError(`Неуспешно зареждане на инструментите: ${e instanceof Error?e.message:'Неизвестна грешка'}`);setLoading(false);}}})();return()=>{cancelled=true;};},[cap]);const shown=useMemo(()=>{if(!filter)return tools;const f=filter.toLowerCase();return tools.filter(t=>(t.tags||[]).some(x=>(x||\"\").toLowerCase().includes(f))||(t.name||\"\").toLowerCase().includes(f)||(t.description||\"\").toLowerCase().includes(f));},[tools,filter]);return/*#__PURE__*/_jsxs(\"main\",{className:\"mx-auto max-w-7xl px-4 py-8 pb-24 md:pb-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-end justify-between gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/categories\",className:\"inline-flex items-center gap-2 text-slate-600 hover:text-blue-600 transition-colors p-2 -ml-2 rounded-xl\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-px h-6 bg-slate-300\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl md:text-3xl font-bold tracking-tight text-slate-800\",children:categoryDisplayName}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-600 mt-1\",children:loading?'Зареждане...':`${shown.length} инструмента в тази категория`})]})]}),/*#__PURE__*/_jsxs(ToggleGroup,{type:\"single\",value:filter!==null&&filter!==void 0?filter:\"\",onValueChange:v=>setFilter(v||null),className:\"bg-slate-100 rounded-xl p-1\",children:[/*#__PURE__*/_jsx(ToggleGroupItem,{value:\"\",\"aria-label\":\"All\",children:\"\\u0412\\u0441\\u0438\\u0447\\u043A\\u0438\"}),/*#__PURE__*/_jsx(ToggleGroupItem,{value:\"free\",\"aria-label\":\"Free\",children:\"\\u0411\\u0435\\u0437\\u043F\\u043B\\u0430\\u0442\\u043D\\u0438\"}),/*#__PURE__*/_jsx(ToggleGroupItem,{value:\"popular\",\"aria-label\":\"Popular\",children:\"\\u041F\\u043E\\u043F\\u0443\\u043B\\u044F\\u0440\\u043D\\u0438\"})]})]}),/*#__PURE__*/_jsx(Separator,{className:\"my-6\"}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-10\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-red-600 font-medium mb-4 p-4 bg-red-50 rounded-2xl border border-red-200 max-w-2xl mx-auto\",children:error}),/*#__PURE__*/_jsx(Button,{variant:\"outline\",onClick:()=>window.location.reload(),children:\"\\u041E\\u043F\\u0438\\u0442\\u0430\\u0439\\u0442\\u0435 \\u043E\\u0442\\u043D\\u043E\\u0432\\u043E\"})]}),loading&&!error&&/*#__PURE__*/_jsx(\"div\",{className:\"grid sm:grid-cols-2 lg:grid-cols-3 gap-6\",children:Array.from({length:9}).map((_,i)=>/*#__PURE__*/_jsx(Skeleton,{className:\"h-48 rounded-2xl\"},i))}),!loading&&!error&&shown.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-20\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-20 h-20 bg-slate-100 rounded-3xl flex items-center justify-center mx-auto mb-6\",children:/*#__PURE__*/_jsx(Sparkles,{className:\"w-10 h-10 text-slate-400\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-slate-800 mb-3 font-bold text-xl\",children:tools.length===0?'Няма инструменти в тази категория':'Няма резултати за този филтър'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-600\",children:tools.length===0?'Опитайте друга категория или се върнете назад.':'Опитайте с друг филтър или премахнете текущия.'}),filter&&/*#__PURE__*/_jsx(Button,{variant:\"outline\",onClick:()=>setFilter(null),className:\"mt-4\",children:\"\\u041F\\u0440\\u0435\\u043C\\u0430\\u0445\\u043D\\u0438 \\u0444\\u0438\\u043B\\u0442\\u044A\\u0440\\u0430\"})]}),!loading&&!error&&shown.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"grid sm:grid-cols-2 lg:grid-cols-3 gap-6\",children:shown.map(tool=>/*#__PURE__*/_jsx(Card,{className:\"group border-slate-200/50 hover:shadow-xl transition-all duration-300 hover:-translate-y-1 bg-white/90 backdrop-blur-sm\",children:/*#__PURE__*/_jsxs(CardContent,{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-14 h-14 rounded-2xl overflow-hidden bg-gradient-to-br from-blue-400 to-indigo-500 flex items-center justify-center shadow-lg group-hover:scale-105 transition-transform duration-300\",children:tool.icon?/*#__PURE__*/_jsx(\"img\",{src:tool.icon,alt:tool.name,className:\"w-8 h-8 object-contain\",loading:\"lazy\",referrerPolicy:\"no-referrer\",onError:e=>{const img=e.currentTarget;img.onerror=null;img.style.display='none';// Показваме fallback иконата\nimg.parentElement.innerHTML='<div class=\"w-8 h-8 flex items-center justify-center text-white font-bold text-sm\">AI</div>';}}):/*#__PURE__*/_jsx(Sparkles,{className:\"w-7 h-7 text-white\"})}),tool.rating!=null&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 px-2 py-1 bg-yellow-100 border border-yellow-200 rounded-lg\",children:[/*#__PURE__*/_jsx(Star,{className:\"w-3 h-3 fill-yellow-400 text-yellow-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium text-yellow-700\",children:tool.rating.toFixed(1)})]})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-slate-800 mb-2 font-bold text-lg leading-tight\",children:tool.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-600 mb-4 line-clamp-2 leading-relaxed\",children:tool.description||\"AI инструмент за автоматизация и повишаване на продуктивността.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-1 mb-4\",children:[/*#__PURE__*/_jsx(Badge,{variant:\"secondary\",className:\"text-xs bg-blue-100 text-blue-700 font-medium px-2 py-1\",children:\"AI Tool\"}),(tool.tags||[]).slice(0,2).map((tag,i)=>/*#__PURE__*/_jsx(Badge,{variant:\"outline\",className:\"text-xs px-2 py-1\",children:tag.replace('cap:','')},i))]}),tool.link?/*#__PURE__*/_jsx(\"a\",{href:tool.link,target:\"_blank\",rel:\"noreferrer noopener\",className:\"block\",children:/*#__PURE__*/_jsxs(Button,{className:\"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-2xl h-11 font-medium shadow-lg shadow-blue-500/25 transition-all duration-200\",children:[\"\\u041E\\u0442\\u0432\\u043E\\u0440\\u0438 \\u0438\\u043D\\u0441\\u0442\\u0440\\u0443\\u043C\\u0435\\u043D\\u0442\",/*#__PURE__*/_jsx(ExternalLink,{className:\"w-4 h-4 ml-2\"})]})}):/*#__PURE__*/_jsx(Button,{disabled:true,className:\"w-full rounded-2xl h-11 bg-slate-100 text-slate-400\",children:\"\\u041D\\u044F\\u043C\\u0430 \\u043D\\u0430\\u043B\\u0438\\u0447\\u043D\\u0430 \\u0432\\u0440\\u044A\\u0437\\u043A\\u0430\"})]})},tool.name))}),!loading&&!error&&shown.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-12 text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"inline-flex items-center gap-4 bg-white/80 border border-slate-200/50 rounded-2xl px-6 py-3 backdrop-blur-sm\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-slate-600\",children:[\"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u043D\\u0438 \",/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-slate-800\",children:shown.length}),\" \\u043E\\u0442\",/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-slate-800\",children:[\" \",tools.length]}),\" \\u0438\\u043D\\u0441\\u0442\\u0440\\u0443\\u043C\\u0435\\u043D\\u0442\\u0430\"]}),filter&&/*#__PURE__*/_jsxs(Badge,{variant:\"secondary\",className:\"text-xs\",children:[\"\\u0424\\u0438\\u043B\\u0442\\u044A\\u0440: \",filter]})]})})]});}","map":{"version":3,"names":["useEffect","useMemo","useState","useParams","Link","Card","CardContent","Badge","Button","Skeleton","Separator","ToggleGroup","ToggleGroupItem","ArrowLeft","ExternalLink","Star","Sparkles","jsx","_jsx","jsxs","_jsxs","API_BASE","_env","import","meta","env","VITE_API_BASE","window","__API_BASE__","CAP_DISPLAY_NAMES","CategoryView","cap","loading","setLoading","tools","setTools","filter","setFilter","error","setError","categoryDisplayName","cancelled","url","encodeURIComponent","console","log","r","fetch","ok","Error","status","statusText","data","json","arr","items","map","t","_t$description","_t$tags","_t$icon","_t$link","_t$rating","name","description","tags","icon","link","rating","length","e","message","shown","f","toLowerCase","some","x","includes","className","children","to","type","value","onValueChange","v","variant","onClick","location","reload","Array","from","_","i","tool","src","alt","referrerPolicy","onError","img","currentTarget","onerror","style","display","parentElement","innerHTML","toFixed","slice","tag","replace","href","target","rel","disabled"],"sources":["C:/Users/komun/booking-app/frontend/src/pages/CategoryView.tsx"],"sourcesContent":["import { useEffect, useMemo, useState } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport { Card, CardContent } from \"../components/ui/card\";\r\nimport { Badge } from \"../components/ui/badge\";\r\nimport { Button } from \"../components/ui/button\";\r\nimport { Skeleton } from \"../components/ui/skeleton\";\r\nimport { Separator } from \"../components/ui/separator\";\r\nimport { ToggleGroup, ToggleGroupItem } from \"../components/ui/toggle-group\";\r\nimport { ArrowLeft, ExternalLink, Star, Sparkles } from \"lucide-react\";\r\n\r\ntype Tool = {\r\n  name: string;\r\n  description?: string;\r\n  tags?: string[];\r\n  icon?: string | null;\r\n  link?: string | null;\r\n  rating?: number | null;\r\n};\r\n\r\nconst API_BASE =\r\n  (import.meta as any).env?.VITE_API_BASE ||\r\n  (window as any).__API_BASE__ ||\r\n  \"http://127.0.0.1:8000\";\r\n\r\n// Мапинг от cap:* тагове към човешки имена\r\nconst CAP_DISPLAY_NAMES: Record<string, string> = {\r\n  \"cap:text-explain\": \"Асистенти и продуктивност\",\r\n  \"cap:text-edit\": \"Генерация на текст и писане\", \r\n  \"cap:text-summarize\": \"Резюмиране на текстове\",\r\n  \"cap:image-generate\": \"Изображения и дизайн\",\r\n  \"cap:image-edit\": \"Редакция на изображения\",\r\n  \"cap:video-generate\": \"Видео и 3D\",\r\n  \"cap:video-edit\": \"Редакция на видео\",\r\n  \"cap:voice-generate\": \"Аудио и музика\",\r\n  \"cap:audio-transcribe\": \"Транскрипция на аудио\",\r\n  \"cap:research-web\": \"Уеб търсене и изследвания\",\r\n  \"cap:automate-workflow\": \"Автоматизация и агенти\",\r\n  \"cap:integrations\": \"Интеграции\",\r\n  \"cap:slide-generate\": \"Презентации и данни\",\r\n  \"cap:doc-read-pdf\": \"Анализ на документи\"\r\n};\r\n\r\nexport default function CategoryView() {\r\n  const { cap = \"\" } = useParams();\r\n  const [loading, setLoading] = useState(true);\r\n  const [tools, setTools] = useState<Tool[]>([]);\r\n  const [filter, setFilter] = useState<string | null>(null);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  // Получаваме човешкото име на категорията\r\n  const categoryDisplayName = CAP_DISPLAY_NAMES[cap] || cap;\r\n\r\n  useEffect(() => {\r\n    let cancelled = false;\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    (async () => {\r\n      try {\r\n        // Правилният API endpoint с cap parameter\r\n        const url = `${API_BASE}/catalog/tools?cap=${encodeURIComponent(cap || \"\")}&limit=100`;\r\n        console.log('Fetching tools from:', url);\r\n        \r\n        const r = await fetch(url);\r\n        if (!r.ok) {\r\n          throw new Error(`HTTP ${r.status}: ${r.statusText}`);\r\n        }\r\n        const data = await r.json();\r\n        console.log('API Response:', data);\r\n\r\n        // API shape: { total, items: [...], limit, offset }\r\n        const arr: Tool[] = (data?.items || []).map((t: any) => ({\r\n          name: t.name,\r\n          description: t.description ?? \"\",\r\n          tags: t.tags ?? [],\r\n          icon: t.icon ?? null, // от _tool_icon функцията в catalog_router.py\r\n          link: t.link ?? null, // от links.website\r\n          rating: t.rating ?? null,\r\n        }));\r\n\r\n        if (!cancelled) {\r\n          setTools(arr);\r\n          setLoading(false);\r\n          console.log(`Loaded ${arr.length} tools for category ${cap}`);\r\n        }\r\n      } catch (e) {\r\n        console.error(\"CategoryView fetch failed\", e);\r\n        if (!cancelled) {\r\n          setError(`Неуспешно зареждане на инструментите: ${e instanceof Error ? e.message : 'Неизвестна грешка'}`);\r\n          setLoading(false);\r\n        }\r\n      }\r\n    })();\r\n\r\n    return () => { cancelled = true; };\r\n  }, [cap]);\r\n\r\n  const shown = useMemo(() => {\r\n    if (!filter) return tools;\r\n    const f = filter.toLowerCase();\r\n    return tools.filter((t) =>\r\n      (t.tags || []).some((x) => (x || \"\").toLowerCase().includes(f)) ||\r\n      (t.name || \"\").toLowerCase().includes(f) ||\r\n      (t.description || \"\").toLowerCase().includes(f)\r\n    );\r\n  }, [tools, filter]);\r\n\r\n  return (\r\n    <main className=\"mx-auto max-w-7xl px-4 py-8 pb-24 md:pb-12\">\r\n      <div className=\"flex items-end justify-between gap-4 mb-6\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <Link\r\n            to=\"/categories\"\r\n            className=\"inline-flex items-center gap-2 text-slate-600 hover:text-blue-600 transition-colors p-2 -ml-2 rounded-xl\"\r\n          >\r\n            <ArrowLeft className=\"w-4 h-4\" />\r\n            <span className=\"font-medium\">Назад</span>\r\n          </Link>\r\n          <div className=\"w-px h-6 bg-slate-300\" />\r\n          <div>\r\n            <h1 className=\"text-2xl md:text-3xl font-bold tracking-tight text-slate-800\">\r\n              {categoryDisplayName}\r\n            </h1>\r\n            <p className=\"text-slate-600 mt-1\">\r\n              {loading ? 'Зареждане...' : `${shown.length} инструмента в тази категория`}\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <ToggleGroup\r\n          type=\"single\"\r\n          value={filter ?? \"\"}\r\n          onValueChange={(v) => setFilter(v || null)}\r\n          className=\"bg-slate-100 rounded-xl p-1\"\r\n        >\r\n          <ToggleGroupItem value=\"\" aria-label=\"All\">\r\n            Всички\r\n          </ToggleGroupItem>\r\n          <ToggleGroupItem value=\"free\" aria-label=\"Free\">\r\n            Безплатни\r\n          </ToggleGroupItem>\r\n          <ToggleGroupItem value=\"popular\" aria-label=\"Popular\">\r\n            Популярни\r\n          </ToggleGroupItem>\r\n        </ToggleGroup>\r\n      </div>\r\n\r\n      <Separator className=\"my-6\" />\r\n\r\n      {/* Error State */}\r\n      {error && (\r\n        <div className=\"text-center py-10\">\r\n          <div className=\"text-red-600 font-medium mb-4 p-4 bg-red-50 rounded-2xl border border-red-200 max-w-2xl mx-auto\">\r\n            {error}\r\n          </div>\r\n          <Button variant=\"outline\" onClick={() => window.location.reload()}>\r\n            Опитайте отново\r\n          </Button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Loading State */}\r\n      {loading && !error && (\r\n        <div className=\"grid sm:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {Array.from({ length: 9 }).map((_, i) => (\r\n            <Skeleton key={i} className=\"h-48 rounded-2xl\" />\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* Empty State */}\r\n      {!loading && !error && shown.length === 0 && (\r\n        <div className=\"text-center py-20\">\r\n          <div className=\"w-20 h-20 bg-slate-100 rounded-3xl flex items-center justify-center mx-auto mb-6\">\r\n            <Sparkles className=\"w-10 h-10 text-slate-400\" />\r\n          </div>\r\n          <h3 className=\"text-slate-800 mb-3 font-bold text-xl\">\r\n            {tools.length === 0 ? 'Няма инструменти в тази категория' : 'Няма резултати за този филтър'}\r\n          </h3>\r\n          <p className=\"text-slate-600\">\r\n            {tools.length === 0 \r\n              ? 'Опитайте друга категория или се върнете назад.' \r\n              : 'Опитайте с друг филтър или премахнете текущия.'\r\n            }\r\n          </p>\r\n          {filter && (\r\n            <Button variant=\"outline\" onClick={() => setFilter(null)} className=\"mt-4\">\r\n              Премахни филтъра\r\n            </Button>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Tools Grid */}\r\n      {!loading && !error && shown.length > 0 && (\r\n        <div className=\"grid sm:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {shown.map((tool) => (\r\n            <Card \r\n              key={tool.name} \r\n              className=\"group border-slate-200/50 hover:shadow-xl transition-all duration-300 hover:-translate-y-1 bg-white/90 backdrop-blur-sm\"\r\n            >\r\n              <CardContent className=\"p-6\">\r\n                <div className=\"flex items-start justify-between mb-4\">\r\n                  {/* Icon */}\r\n                  <div className=\"w-14 h-14 rounded-2xl overflow-hidden bg-gradient-to-br from-blue-400 to-indigo-500 flex items-center justify-center shadow-lg group-hover:scale-105 transition-transform duration-300\">\r\n                    {tool.icon ? (\r\n                      <img\r\n                        src={tool.icon}\r\n                        alt={tool.name}\r\n                        className=\"w-8 h-8 object-contain\"\r\n                        loading=\"lazy\"\r\n                        referrerPolicy=\"no-referrer\"\r\n                        onError={(e) => {\r\n                          const img = e.currentTarget as HTMLImageElement;\r\n                          img.onerror = null;\r\n                          img.style.display = 'none';\r\n                          // Показваме fallback иконата\r\n                          img.parentElement!.innerHTML = '<div class=\"w-8 h-8 flex items-center justify-center text-white font-bold text-sm\">AI</div>';\r\n                        }}\r\n                      />\r\n                    ) : (\r\n                      <Sparkles className=\"w-7 h-7 text-white\" />\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Rating */}\r\n                  {tool.rating != null && (\r\n                    <div className=\"flex items-center gap-1 px-2 py-1 bg-yellow-100 border border-yellow-200 rounded-lg\">\r\n                      <Star className=\"w-3 h-3 fill-yellow-400 text-yellow-500\" />\r\n                      <span className=\"text-xs font-medium text-yellow-700\">\r\n                        {tool.rating.toFixed(1)}\r\n                      </span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Title and Description */}\r\n                <h3 className=\"text-slate-800 mb-2 font-bold text-lg leading-tight\">\r\n                  {tool.name}\r\n                </h3>\r\n                <p className=\"text-sm text-slate-600 mb-4 line-clamp-2 leading-relaxed\">\r\n                  {tool.description || \"AI инструмент за автоматизация и повишаване на продуктивността.\"}\r\n                </p>\r\n\r\n                {/* Tags */}\r\n                <div className=\"flex flex-wrap gap-1 mb-4\">\r\n                  <Badge variant=\"secondary\" className=\"text-xs bg-blue-100 text-blue-700 font-medium px-2 py-1\">\r\n                    AI Tool\r\n                  </Badge>\r\n                  {(tool.tags || []).slice(0, 2).map((tag, i) => (\r\n                    <Badge key={i} variant=\"outline\" className=\"text-xs px-2 py-1\">\r\n                      {tag.replace('cap:', '')}\r\n                    </Badge>\r\n                  ))}\r\n                </div>\r\n\r\n                {/* Action Button */}\r\n                {tool.link ? (\r\n                  <a\r\n                    href={tool.link}\r\n                    target=\"_blank\"\r\n                    rel=\"noreferrer noopener\"\r\n                    className=\"block\"\r\n                  >\r\n                    <Button className=\"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-2xl h-11 font-medium shadow-lg shadow-blue-500/25 transition-all duration-200\">\r\n                      Отвори инструмент \r\n                      <ExternalLink className=\"w-4 h-4 ml-2\" />\r\n                    </Button>\r\n                  </a>\r\n                ) : (\r\n                  <Button disabled className=\"w-full rounded-2xl h-11 bg-slate-100 text-slate-400\">\r\n                    Няма налична връзка\r\n                  </Button>\r\n                )}\r\n              </CardContent>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* Results Summary */}\r\n      {!loading && !error && shown.length > 0 && (\r\n        <div className=\"mt-12 text-center\">\r\n          <div className=\"inline-flex items-center gap-4 bg-white/80 border border-slate-200/50 rounded-2xl px-6 py-3 backdrop-blur-sm\">\r\n            <span className=\"text-sm text-slate-600\">\r\n              Показани <span className=\"font-semibold text-slate-800\">{shown.length}</span> от \r\n              <span className=\"font-semibold text-slate-800\"> {tools.length}</span> инструмента\r\n            </span>\r\n            {filter && (\r\n              <Badge variant=\"secondary\" className=\"text-xs\">\r\n                Филтър: {filter}\r\n              </Badge>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </main>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}