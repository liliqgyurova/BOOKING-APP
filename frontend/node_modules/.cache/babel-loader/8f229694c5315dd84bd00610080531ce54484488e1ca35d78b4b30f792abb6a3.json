{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\komun\\\\booking-app\\\\frontend\\\\src\\\\components\\\\ui\\\\PlanMindMap.tsx\",\n  _s = $RefreshSig$();\nimport React, { useMemo, useState } from 'react';\nimport { ChevronDown, ChevronUp, Lightbulb, Copy, Check } from 'lucide-react';\nimport { Badge } from './badge';\nimport { Button } from './button';\n\n/* ---------- Types ---------- */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n/* ---------- Local i18n (fallbacks) ---------- */\nconst STR = {\n  en: {\n    assistantSuggestion: 'AI Assistant Suggestion',\n    copyPasteReady: 'Copy & Paste Ready',\n    copy: 'Copy',\n    copied: 'Copied!',\n    promptHint: 'üí° Copy this prompt and paste it into any AI assistant (ChatGPT, Claude, etc.) for personalized guidance on this step.',\n    aiTool: 'AI Tool',\n    available: 'Available',\n    noLink: 'No link',\n    myGoalFallback: 'My goal'\n  },\n  bg: {\n    assistantSuggestion: '–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –æ—Ç AI –∞—Å–∏—Å—Ç–µ–Ω—Ç',\n    copyPasteReady: '–ì–æ—Ç–æ–≤–æ –∑–∞ –∫–æ–ø–∏—Ä–∞–Ω–µ',\n    copy: '–ö–æ–ø–∏—Ä–∞–π',\n    copied: '–ö–æ–ø–∏—Ä–∞–Ω–æ!',\n    promptHint: 'üí° –ö–æ–ø–∏—Ä–∞–π –ø—Ä–æ–º–ø—Ç–∞ –∏ –≥–æ –ø–æ—Å—Ç–∞–≤–∏ –≤ AI –∞—Å–∏—Å—Ç–µ–Ω—Ç (ChatGPT, Claude –∏ –¥—Ä.) –∑–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω–æ —Ä—ä–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∑–∞ —Ç–∞–∑–∏ —Å—Ç—ä–ø–∫–∞.',\n    aiTool: 'AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç',\n    available: '–ù–∞–ª–∏—á–Ω–æ',\n    noLink: '–ù—è–º–∞ –ª–∏–Ω–∫',\n    myGoalFallback: '–ú–æ—è—Ç–∞ —Ü–µ–ª'\n  }\n};\n\n/* ---------- Helpers ---------- */\nfunction detectLanguage(text) {\n  if (!text) return 'en';\n  return /[–∞-—è—ë]/i.test(text) ? 'bg' : 'en';\n}\nfunction defaultPromptBuilder({\n  goal,\n  stepTitle,\n  tools,\n  language\n}) {\n  const bg = language === 'bg';\n  const goalPart = goal ? bg ? `–ú–æ—è—Ç–∞ –≥–ª–∞–≤–Ω–∞ —Ü–µ–ª –µ: \"${goal}\". ` : `My main goal is: \"${goal}\". ` : '';\n  const ctx = tools.length > 0 ? bg ? `–¢–∞–∑–∏ —Å—Ç—ä–ø–∫–∞ –≤–∫–ª—é—á–≤–∞ ${tools.length} –ø—Ä–µ–ø–æ—Ä—ä—á–∞–Ω–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞/–ø–æ–¥—Ö–æ–¥–∞. ` : `This step involves ${tools.length} recommended tools/approaches. ` : '';\n  return (bg ? '–¢–∏ —Å–∏ –µ–∫—Å–ø–µ—Ä—Ç–µ–Ω –∞—Å–∏—Å—Ç–µ–Ω—Ç, –∫–æ–π—Ç–æ –º–∏ –ø–æ–º–∞–≥–∞ –¥–∞ –ø–æ—Å—Ç–∏–≥–∞–º —Ü–µ–ª–∏—Ç–µ —Å–∏. ' : 'You are an expert assistant helping me achieve my goals. ') + goalPart + (bg ? `–ù—É–∂–¥–∞—è —Å–µ –æ—Ç –ø–æ–º–æ—â —Å—ä—Å —Å—Ç—ä–ø–∫–∞—Ç–∞: \"${stepTitle}\". ` : `I need help with the step: \"${stepTitle}\". `) + ctx + (bg ? '–ú–æ–ª—è, –¥–∞–π: 1) —è—Å–µ–Ω –ø–ª–∞–Ω —Å—Ç—ä–ø–∫–∞ –ø–æ —Å—Ç—ä–ø–∫–∞, 2) –Ω–∞–π-–¥–æ–±—Ä–∏ –ø—Ä–∞–∫—Ç–∏–∫–∏, 3) —á–µ—Å—Ç–∏ –≥—Ä–µ—à–∫–∏ –∏ –∫–∞–∫ –¥–∞ –≥–∏ –∏–∑–±–µ–≥–Ω–∞, 4) –Ω—É–∂–Ω–∏ –≤—Ö–æ–¥–æ–≤–µ –∏ –æ—á–∞–∫–≤–∞–Ω–∏ –∏–∑—Ö–æ–¥–∏, 5) –∫—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞ –∫–∞—á–µ—Å—Ç–≤–æ. –ù–∞–∫—Ä–∞—è –∑–∞–¥–∞–π 2‚Äì3 —É—Ç–æ—á–Ω—è–≤–∞—â–∏ –≤—ä–ø—Ä–æ—Å–∞ –∑–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –∏–∑–∏—Å–∫–≤–∞–Ω–∏—è.' : 'Please provide: 1) a clear step-by-step action plan, 2) best practices, 3) common pitfalls and how to avoid them, 4) required inputs and expected outputs, 5) quality criteria. Then ask 2‚Äì3 clarifying questions about my context and requirements.');\n}\nexport default function PlanMindMap({\n  goal,\n  steps,\n  onOpenTool,\n  t,\n  language,\n  buildPrompt\n}) {\n  _s();\n  const lang = language || detectLanguage(goal || steps.map(s => s.title).join(' '));\n  const L = STR[lang];\n\n  // plain-string translator with safe fallback\n  const s = key => {\n    const defVal = L[key];\n    if (t) {\n      try {\n        const v = t(key);\n        if (typeof v === 'string' && v) return v;\n      } catch {\n        /* ignore */\n      }\n    }\n    return defVal;\n  };\n\n  // dynamic labels (never call t for these)\n  const stepLabel = n => lang === 'bg' ? `–°—Ç—ä–ø–∫–∞ ${n}` : `Step ${n}`;\n  const recCountLabel = n => lang === 'bg' ? `${n} –ø—Ä–µ–ø–æ—Ä—ä—á–∞–Ω–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞` : `${n} recommended tools`;\n\n  // state\n  const [openTools, setOpenTools] = useState(new Set([0]));\n  const [openPrompts, setOpenPrompts] = useState(new Set());\n  const [copiedIdx, setCopiedIdx] = useState(null);\n  const headerTitle = useMemo(() => goal || s('myGoalFallback'), [goal, lang]);\n  const toggle = (set, idx) => {\n    const next = new Set(set);\n    next.has(idx) ? next.delete(idx) : next.add(idx);\n    return next;\n  };\n  const copyPrompt = async (text, i) => {\n    try {\n      await navigator.clipboard.writeText(text);\n      setCopiedIdx(i);\n      setTimeout(() => setCopiedIdx(null), 1600);\n    } catch {\n      alert(s('promptHint'));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6\",\n      children: steps.map((step, i) => {\n        const n = i + 1;\n        const toolsOpened = openTools.has(i);\n        const promptOpened = openPrompts.has(i);\n        const promptText = buildPrompt && buildPrompt({\n          goal,\n          stepTitle: step.title,\n          tools: step.tools,\n          language: lang\n        }) || defaultPromptBuilder({\n          goal,\n          stepTitle: step.title,\n          tools: step.tools,\n          language: lang\n        });\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `rounded-2xl border bg-white shadow-sm ${toolsOpened || promptOpened ? 'border-blue-200' : 'border-slate-200'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start gap-3 px-4 sm:px-5 pt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-9 h-9 sm:w-10 sm:h-10 rounded-2xl flex items-center justify-center text-white font-bold shadow-md\n                    ${i % 3 === 0 ? 'bg-gradient-to-br from-blue-500 to-indigo-600 shadow-blue-500/25' : i % 3 === 1 ? 'bg-gradient-to-br from-purple-500 to-pink-600 shadow-purple-500/25' : 'bg-gradient-to-br from-emerald-500 to-green-600 shadow-emerald-500/25'}`,\n              children: n\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 min-w-0 pb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-slate-800 font-semibold truncate\",\n                children: step.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-slate-500\",\n                children: recCountLabel(step.tools.length)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 pb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setOpenPrompts(sset => toggle(sset, i)),\n                className: `inline-flex items-center gap-2 px-3 h-9 rounded-xl text-white shadow-sm transition relative\n                      ${promptOpened ? 'bg-orange-500' : 'bg-gradient-to-r from-amber-400 to-orange-500 hover:from-amber-500 hover:to-orange-600'}\n                    `,\n                title: s('assistantSuggestion'),\n                children: [/*#__PURE__*/_jsxDEV(Lightbulb, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-medium hidden sm:inline\",\n                  children: s('assistantSuggestion')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setOpenTools(sset => toggle(sset, i)),\n                className: \"inline-flex items-center gap-2 px-3 h-9 rounded-xl bg-slate-100 text-slate-700 hover:bg-slate-200 border border-slate-200\",\n                title: stepLabel(n),\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-medium\",\n                  children: stepLabel(n)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 21\n                }, this), toolsOpened ? /*#__PURE__*/_jsxDEV(ChevronUp, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 36\n                }, this) : /*#__PURE__*/_jsxDEV(ChevronDown, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 72\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 15\n          }, this), promptOpened && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-4 sm:px-5 pb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200/60 rounded-xl p-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-start gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-9 h-9 rounded-lg bg-gradient-to-br from-amber-400 to-orange-500 text-white flex items-center justify-center flex-shrink-0\",\n                  children: /*#__PURE__*/_jsxDEV(Lightbulb, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 241,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2 mb-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-semibold text-amber-800\",\n                      children: s('assistantSuggestion')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 245,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                      variant: \"secondary\",\n                      className: \"text-xs bg-amber-100 text-amber-700 border-amber-200\",\n                      children: s('copyPasteReady')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 246,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-white/80 border border-amber-200 rounded-lg p-3 text-sm text-slate-700\",\n                    children: promptText\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 254,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-2 flex items-center justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs text-amber-700\",\n                      children: s('promptHint')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 259,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"outline\",\n                      onClick: () => copyPrompt(promptText, i),\n                      className: `h-8 px-3 rounded-lg border-amber-200 ${copiedIdx === i ? 'bg-green-50 border-green-200 text-green-700' : 'text-amber-700 hover:bg-amber-50'}`,\n                      children: [copiedIdx === i ? /*#__PURE__*/_jsxDEV(Check, {\n                        className: \"w-4 h-4 mr-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 269,\n                        columnNumber: 48\n                      }, this) : /*#__PURE__*/_jsxDEV(Copy, {\n                        className: \"w-4 h-4 mr-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 269,\n                        columnNumber: 85\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-xs font-medium\",\n                        children: copiedIdx === i ? s('copied') : s('copy')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 270,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 260,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 17\n          }, this), toolsOpened && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-4 sm:px-5 pb-5\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid sm:grid-cols-2 lg:grid-cols-3 gap-4\",\n              children: step.tools.map(tool => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => tool.link && onOpenTool(tool),\n                className: `flex items-center gap-3 rounded-xl border p-3 text-left transition ${tool.link ? 'bg-white border-slate-200 hover:shadow-md hover:-translate-y-[2px]' : 'bg-slate-50 border-slate-200 opacity-70 cursor-default'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-400 to-indigo-500 flex items-center justify-center overflow-hidden\",\n                  children: tool.icon ? /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: tool.icon,\n                    alt: tool.name,\n                    className: \"w-6 h-6 object-contain\",\n                    referrerPolicy: \"no-referrer\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 297,\n                    columnNumber: 29\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-white text-sm font-semibold\",\n                    children: tool.name.slice(0, 1)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1 min-w-0\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"font-medium text-slate-800 truncate\",\n                    children: tool.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-slate-500 truncate\",\n                    children: tool.link ? s('available') : s('noLink')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 309,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                  variant: \"secondary\",\n                  className: \"text-[10px] bg-blue-50 text-blue-700 border-blue-200\",\n                  children: s('aiTool')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 25\n                }, this)]\n              }, `${step.title}-${tool.name}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 17\n          }, this)]\n        }, `${step.title}-${i}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 150,\n    columnNumber: 5\n  }, this);\n}\n_s(PlanMindMap, \"6RhjVdE80XwjZ+7K8GW/ZdQzadc=\");\n_c = PlanMindMap;\nvar _c;\n$RefreshReg$(_c, \"PlanMindMap\");","map":{"version":3,"names":["React","useMemo","useState","ChevronDown","ChevronUp","Lightbulb","Copy","Check","Badge","Button","jsxDEV","_jsxDEV","STR","en","assistantSuggestion","copyPasteReady","copy","copied","promptHint","aiTool","available","noLink","myGoalFallback","bg","detectLanguage","text","test","defaultPromptBuilder","goal","stepTitle","tools","language","goalPart","ctx","length","PlanMindMap","steps","onOpenTool","t","buildPrompt","_s","lang","map","s","title","join","L","key","defVal","v","stepLabel","n","recCountLabel","openTools","setOpenTools","Set","openPrompts","setOpenPrompts","copiedIdx","setCopiedIdx","headerTitle","toggle","set","idx","next","has","delete","add","copyPrompt","i","navigator","clipboard","writeText","setTimeout","alert","className","children","step","toolsOpened","promptOpened","promptText","fileName","_jsxFileName","lineNumber","columnNumber","onClick","sset","variant","tool","link","icon","src","alt","name","referrerPolicy","slice","_c","$RefreshReg$"],"sources":["C:/Users/komun/booking-app/frontend/src/components/ui/PlanMindMap.tsx"],"sourcesContent":["import React, { useMemo, useState } from 'react';\r\nimport { ChevronDown, ChevronUp, Lightbulb, Copy, Check } from 'lucide-react';\r\nimport { Badge } from './badge';\r\nimport { Button } from './button';\r\n\r\n/* ---------- Types ---------- */\r\ntype Tool = { name: string; link?: string | null; icon?: string | null };\r\ntype Group = { title: string; tools: Tool[] };\r\ntype Language = 'en' | 'bg';\r\n\r\ntype PlanMindMapProps = {\r\n  goal: string;\r\n  steps: Group[];\r\n  onOpenTool: (tool: Tool) => void;\r\n\r\n  /** optional i18n bridge from App; used only for plain strings */\r\n  t?: (key: string) => string;\r\n  language?: Language;\r\n\r\n  /** optional external prompt builder */\r\n  buildPrompt?: (args: {\r\n    goal: string;\r\n    stepTitle: string;\r\n    tools: Tool[];\r\n    language: Language;\r\n  }) => string;\r\n};\r\n\r\n/* ---------- Local i18n (fallbacks) ---------- */\r\nconst STR = {\r\n  en: {\r\n    assistantSuggestion: 'AI Assistant Suggestion',\r\n    copyPasteReady: 'Copy & Paste Ready',\r\n    copy: 'Copy',\r\n    copied: 'Copied!',\r\n    promptHint:\r\n      'üí° Copy this prompt and paste it into any AI assistant (ChatGPT, Claude, etc.) for personalized guidance on this step.',\r\n    aiTool: 'AI Tool',\r\n    available: 'Available',\r\n    noLink: 'No link',\r\n    myGoalFallback: 'My goal',\r\n  },\r\n  bg: {\r\n    assistantSuggestion: '–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –æ—Ç AI –∞—Å–∏—Å—Ç–µ–Ω—Ç',\r\n    copyPasteReady: '–ì–æ—Ç–æ–≤–æ –∑–∞ –∫–æ–ø–∏—Ä–∞–Ω–µ',\r\n    copy: '–ö–æ–ø–∏—Ä–∞–π',\r\n    copied: '–ö–æ–ø–∏—Ä–∞–Ω–æ!',\r\n    promptHint:\r\n      'üí° –ö–æ–ø–∏—Ä–∞–π –ø—Ä–æ–º–ø—Ç–∞ –∏ –≥–æ –ø–æ—Å—Ç–∞–≤–∏ –≤ AI –∞—Å–∏—Å—Ç–µ–Ω—Ç (ChatGPT, Claude –∏ –¥—Ä.) –∑–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω–æ —Ä—ä–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∑–∞ —Ç–∞–∑–∏ —Å—Ç—ä–ø–∫–∞.',\r\n    aiTool: 'AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç',\r\n    available: '–ù–∞–ª–∏—á–Ω–æ',\r\n    noLink: '–ù—è–º–∞ –ª–∏–Ω–∫',\r\n    myGoalFallback: '–ú–æ—è—Ç–∞ —Ü–µ–ª',\r\n  },\r\n};\r\n\r\n/* ---------- Helpers ---------- */\r\nfunction detectLanguage(text: string): Language {\r\n  if (!text) return 'en';\r\n  return /[–∞-—è—ë]/i.test(text) ? 'bg' : 'en';\r\n}\r\n\r\nfunction defaultPromptBuilder({\r\n  goal,\r\n  stepTitle,\r\n  tools,\r\n  language,\r\n}: {\r\n  goal: string;\r\n  stepTitle: string;\r\n  tools: Tool[];\r\n  language: Language;\r\n}) {\r\n  const bg = language === 'bg';\r\n  const goalPart = goal ? (bg ? `–ú–æ—è—Ç–∞ –≥–ª–∞–≤–Ω–∞ —Ü–µ–ª –µ: \"${goal}\". ` : `My main goal is: \"${goal}\". `) : '';\r\n  const ctx =\r\n    tools.length > 0\r\n      ? bg\r\n        ? `–¢–∞–∑–∏ —Å—Ç—ä–ø–∫–∞ –≤–∫–ª—é—á–≤–∞ ${tools.length} –ø—Ä–µ–ø–æ—Ä—ä—á–∞–Ω–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞/–ø–æ–¥—Ö–æ–¥–∞. `\r\n        : `This step involves ${tools.length} recommended tools/approaches. `\r\n      : '';\r\n\r\n  return (\r\n    (bg\r\n      ? '–¢–∏ —Å–∏ –µ–∫—Å–ø–µ—Ä—Ç–µ–Ω –∞—Å–∏—Å—Ç–µ–Ω—Ç, –∫–æ–π—Ç–æ –º–∏ –ø–æ–º–∞–≥–∞ –¥–∞ –ø–æ—Å—Ç–∏–≥–∞–º —Ü–µ–ª–∏—Ç–µ —Å–∏. '\r\n      : 'You are an expert assistant helping me achieve my goals. ') +\r\n    goalPart +\r\n    (bg ? `–ù—É–∂–¥–∞—è —Å–µ –æ—Ç –ø–æ–º–æ—â —Å—ä—Å —Å—Ç—ä–ø–∫–∞—Ç–∞: \"${stepTitle}\". ` : `I need help with the step: \"${stepTitle}\". `) +\r\n    ctx +\r\n    (bg\r\n      ? '–ú–æ–ª—è, –¥–∞–π: 1) —è—Å–µ–Ω –ø–ª–∞–Ω —Å—Ç—ä–ø–∫–∞ –ø–æ —Å—Ç—ä–ø–∫–∞, 2) –Ω–∞–π-–¥–æ–±—Ä–∏ –ø—Ä–∞–∫—Ç–∏–∫–∏, 3) —á–µ—Å—Ç–∏ –≥—Ä–µ—à–∫–∏ –∏ –∫–∞–∫ –¥–∞ –≥–∏ –∏–∑–±–µ–≥–Ω–∞, 4) –Ω—É–∂–Ω–∏ –≤—Ö–æ–¥–æ–≤–µ –∏ –æ—á–∞–∫–≤–∞–Ω–∏ –∏–∑—Ö–æ–¥–∏, 5) –∫—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞ –∫–∞—á–µ—Å—Ç–≤–æ. –ù–∞–∫—Ä–∞—è –∑–∞–¥–∞–π 2‚Äì3 —É—Ç–æ—á–Ω—è–≤–∞—â–∏ –≤—ä–ø—Ä–æ—Å–∞ –∑–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –∏–∑–∏—Å–∫–≤–∞–Ω–∏—è.'\r\n      : 'Please provide: 1) a clear step-by-step action plan, 2) best practices, 3) common pitfalls and how to avoid them, 4) required inputs and expected outputs, 5) quality criteria. Then ask 2‚Äì3 clarifying questions about my context and requirements.')\r\n  );\r\n}\r\n\r\nexport default function PlanMindMap({\r\n  goal,\r\n  steps,\r\n  onOpenTool,\r\n  t,\r\n  language,\r\n  buildPrompt,\r\n}: PlanMindMapProps) {\r\n  const lang: Language = language || detectLanguage(goal || steps.map((s) => s.title).join(' '));\r\n  const L = STR[lang];\r\n\r\n  // plain-string translator with safe fallback\r\n  const s = (key: keyof typeof L): string => {\r\n    const defVal = L[key];\r\n    if (t) {\r\n      try {\r\n        const v = t(key as any);\r\n        if (typeof v === 'string' && v) return v;\r\n      } catch {\r\n        /* ignore */\r\n      }\r\n    }\r\n    return defVal;\r\n  };\r\n\r\n  // dynamic labels (never call t for these)\r\n  const stepLabel = (n: number) => (lang === 'bg' ? `–°—Ç—ä–ø–∫–∞ ${n}` : `Step ${n}`);\r\n  const recCountLabel = (n: number) =>\r\n    lang === 'bg' ? `${n} –ø—Ä–µ–ø–æ—Ä—ä—á–∞–Ω–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞` : `${n} recommended tools`;\r\n\r\n  // state\r\n  const [openTools, setOpenTools] = useState<Set<number>>(new Set([0]));\r\n  const [openPrompts, setOpenPrompts] = useState<Set<number>>(new Set());\r\n  const [copiedIdx, setCopiedIdx] = useState<number | null>(null);\r\n\r\n  const headerTitle = useMemo(() => goal || s('myGoalFallback'), [goal, lang]);\r\n\r\n  const toggle = (set: Set<number>, idx: number) => {\r\n    const next = new Set(set);\r\n    next.has(idx) ? next.delete(idx) : next.add(idx);\r\n    return next;\r\n  };\r\n\r\n  const copyPrompt = async (text: string, i: number) => {\r\n    try {\r\n      await navigator.clipboard.writeText(text);\r\n      setCopiedIdx(i);\r\n      setTimeout(() => setCopiedIdx(null), 1600);\r\n    } catch {\r\n      alert(s('promptHint'));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Goal header */}\r\n      {/*}\r\n      <div className=\"text-center\">\r\n        <div className=\"inline-flex items-center gap-3 bg-white/80 border border-slate-200 rounded-2xl px-4 py-3 shadow-sm\">\r\n          <span className=\"text-slate-700\">{headerTitle}</span>\r\n          {goal && (\r\n            <Badge variant=\"secondary\" className=\"bg-blue-50 text-blue-700 border-blue-200\">\r\n              {goal}\r\n            </Badge>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Steps */}\r\n      <div className=\"space-y-6\">\r\n        {steps.map((step, i) => {\r\n          const n = i + 1;\r\n          const toolsOpened = openTools.has(i);\r\n          const promptOpened = openPrompts.has(i);\r\n\r\n          const promptText =\r\n            (buildPrompt &&\r\n              buildPrompt({ goal, stepTitle: step.title, tools: step.tools, language: lang })) ||\r\n            defaultPromptBuilder({ goal, stepTitle: step.title, tools: step.tools, language: lang });\r\n\r\n          return (\r\n            <div\r\n              key={`${step.title}-${i}`}\r\n              className={`rounded-2xl border bg-white shadow-sm ${\r\n                toolsOpened || promptOpened ? 'border-blue-200' : 'border-slate-200'\r\n              }`}\r\n            >\r\n              {/* Header */}\r\n              <div className=\"flex items-start gap-3 px-4 sm:px-5 pt-4\">\r\n                {/* Left step badge */}\r\n                <div\r\n                  className={`w-9 h-9 sm:w-10 sm:h-10 rounded-2xl flex items-center justify-center text-white font-bold shadow-md\r\n                    ${\r\n                      i % 3 === 0\r\n                        ? 'bg-gradient-to-br from-blue-500 to-indigo-600 shadow-blue-500/25'\r\n                        : i % 3 === 1\r\n                        ? 'bg-gradient-to-br from-purple-500 to-pink-600 shadow-purple-500/25'\r\n                        : 'bg-gradient-to-br from-emerald-500 to-green-600 shadow-emerald-500/25'\r\n                    }`}\r\n                >\r\n                  {n}\r\n                </div>\r\n\r\n                {/* Title & subtitle */}\r\n                <div className=\"flex-1 min-w-0 pb-4\">\r\n                  <div className=\"text-slate-800 font-semibold truncate\">{step.title}</div>\r\n                  <div className=\"text-xs text-slate-500\">{recCountLabel(step.tools.length)}</div>\r\n                </div>\r\n\r\n                {/* Right controls */}\r\n                <div className=\"flex items-center gap-2 pb-4\">\r\n                  {/* AI assistant button */}\r\n                  <button\r\n                    onClick={() => setOpenPrompts((sset) => toggle(sset, i))}\r\n                    className={`inline-flex items-center gap-2 px-3 h-9 rounded-xl text-white shadow-sm transition relative\r\n                      ${\r\n                        promptOpened\r\n                          ? 'bg-orange-500'\r\n                          : 'bg-gradient-to-r from-amber-400 to-orange-500 hover:from-amber-500 hover:to-orange-600'\r\n                      }\r\n                    `}\r\n                    title={s('assistantSuggestion')}\r\n                  >\r\n                    <Lightbulb className=\"w-4 h-4\" />\r\n                    <span className=\"text-sm font-medium hidden sm:inline\">{s('assistantSuggestion')}</span>\r\n                  </button>\r\n\r\n                  {/* \"Step X\" pill */}\r\n                  <button\r\n                    onClick={() => setOpenTools((sset) => toggle(sset, i))}\r\n                    className=\"inline-flex items-center gap-2 px-3 h-9 rounded-xl bg-slate-100 text-slate-700 hover:bg-slate-200 border border-slate-200\"\r\n                    title={stepLabel(n)}\r\n                  >\r\n                    <span className=\"text-sm font-medium\">{stepLabel(n)}</span>\r\n                    {toolsOpened ? <ChevronUp className=\"w-4 h-4\" /> : <ChevronDown className=\"w-4 h-4\" />}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* PROMPT panel */}\r\n              {promptOpened && (\r\n                <div className=\"px-4 sm:px-5 pb-4\">\r\n                  <div className=\"bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200/60 rounded-xl p-4\">\r\n                    <div className=\"flex items-start gap-3\">\r\n                      <div className=\"w-9 h-9 rounded-lg bg-gradient-to-br from-amber-400 to-orange-500 text-white flex items-center justify-center flex-shrink-0\">\r\n                        <Lightbulb className=\"w-4 h-4\" />\r\n                      </div>\r\n                      <div className=\"flex-1\">\r\n                        <div className=\"flex items-center gap-2 mb-2\">\r\n                          <span className=\"font-semibold text-amber-800\">{s('assistantSuggestion')}</span>\r\n                          <Badge\r\n                            variant=\"secondary\"\r\n                            className=\"text-xs bg-amber-100 text-amber-700 border-amber-200\"\r\n                          >\r\n                            {s('copyPasteReady')}\r\n                          </Badge>\r\n                        </div>\r\n\r\n                        <div className=\"bg-white/80 border border-amber-200 rounded-lg p-3 text-sm text-slate-700\">\r\n                          {promptText}\r\n                        </div>\r\n\r\n                        <div className=\"mt-2 flex items-center justify-between\">\r\n                          <span className=\"text-xs text-amber-700\">{s('promptHint')}</span>\r\n                          <Button\r\n                            variant=\"outline\"\r\n                            onClick={() => copyPrompt(promptText, i)}\r\n                            className={`h-8 px-3 rounded-lg border-amber-200 ${\r\n                              copiedIdx === i\r\n                                ? 'bg-green-50 border-green-200 text-green-700'\r\n                                : 'text-amber-700 hover:bg-amber-50'\r\n                            }`}\r\n                          >\r\n                            {copiedIdx === i ? <Check className=\"w-4 h-4 mr-1\" /> : <Copy className=\"w-4 h-4 mr-1\" />}\r\n                            <span className=\"text-xs font-medium\">\r\n                              {copiedIdx === i ? s('copied') : s('copy')}\r\n                            </span>\r\n                          </Button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* TOOLS panel */}\r\n              {toolsOpened && (\r\n                <div className=\"px-4 sm:px-5 pb-5\">\r\n                  <div className=\"grid sm:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                    {step.tools.map((tool) => (\r\n                      <button\r\n                        key={`${step.title}-${tool.name}`}\r\n                        onClick={() => tool.link && onOpenTool(tool)}\r\n                        className={`flex items-center gap-3 rounded-xl border p-3 text-left transition ${\r\n                          tool.link\r\n                            ? 'bg-white border-slate-200 hover:shadow-md hover:-translate-y-[2px]'\r\n                            : 'bg-slate-50 border-slate-200 opacity-70 cursor-default'\r\n                        }`}\r\n                      >\r\n                        <div className=\"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-400 to-indigo-500 flex items-center justify-center overflow-hidden\">\r\n                          {tool.icon ? (\r\n                            <img\r\n                              src={tool.icon}\r\n                              alt={tool.name}\r\n                              className=\"w-6 h-6 object-contain\"\r\n                              referrerPolicy=\"no-referrer\"\r\n                            />\r\n                          ) : (\r\n                            <span className=\"text-white text-sm font-semibold\">{tool.name.slice(0, 1)}</span>\r\n                          )}\r\n                        </div>\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <div className=\"font-medium text-slate-800 truncate\">{tool.name}</div>\r\n                          <div className=\"text-xs text-slate-500 truncate\">\r\n                            {tool.link ? s('available') : s('noLink')}\r\n                          </div>\r\n                        </div>\r\n                        <Badge variant=\"secondary\" className=\"text-[10px] bg-blue-50 text-blue-700 border-blue-200\">\r\n                          {s('aiTool')}\r\n                        </Badge>\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}